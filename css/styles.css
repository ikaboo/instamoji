:root {
    --primary: #5271FF;
    --secondary: #FF5757;
    --bg: #FFDE59;
    --text-dark: #333;
    --helvetica: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

body {
    margin: 0; padding: 0;
    font-family: var(--helvetica);
    background-color: var(--bg);
    overflow: hidden;
    touch-action: none;
    user-select: none;
    -webkit-user-select: none;
}

/* --- LAYOUT --- */

.top-container {
    position: absolute; top: 20px; width: 100%; text-align: center; z-index: 10;
}

.header-logo {
    font-family: 'Bowlby One SC', sans-serif; font-size: 2.5rem; color: white;
    text-shadow: 4px 4px 0px var(--secondary); margin-bottom: 5px;
    letter-spacing: 2px; cursor: pointer; pointer-events: auto;
    -webkit-tap-highlight-color: transparent;
}
.header-logo:active { transform: scale(0.95); }

.status-bar {
    height: auto; min-height: 50px; font-size: 3rem; display: none;
    justify-content: center; align-items: center; gap: 10px;
    flex-wrap: wrap; max-width: 320px; margin: 0 auto;
}

.star-pop {
    transition: transform 0.2s;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    -webkit-user-select: none;
}
.star-pop:active { transform: scale(1.6) rotate(15deg); }

.screen { display: none; height: 100vh; width: 100vw; flex-direction: column; align-items: center; }
.active { display: flex; }

/* --- LANGUAGE PICKER --- */

.lang-picker {
    display: flex; justify-content: center; gap: 12px;
    margin-bottom: 15px;
}

.lang-btn {
    font-size: 2rem; background: white; border: 3px solid transparent;
    border-radius: 50%; width: 56px; height: 56px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; box-shadow: 0 4px 0 #d4b840;
    transition: transform 0.15s, border-color 0.15s;
    -webkit-tap-highlight-color: transparent;
}
.lang-btn:active { transform: scale(0.9); }
.lang-btn.active {
    border-color: var(--primary);
    box-shadow: 0 4px 0 var(--primary);
    transform: scale(1.1);
}

/* --- MENU --- */

#menu-screen { justify-content: flex-start; padding-top: 110px; overflow-y: auto; -webkit-overflow-scrolling: touch; }
.menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 85%; max-width: 400px; padding-bottom: 40px; }

.cat-card {
    background: white; padding: 15px 5px; border-radius: 20px; font-size: 1.1rem;
    border: none; box-shadow: 0 6px 0 #d4b840; cursor: pointer;
    font-family: 'Bowlby One SC', sans-serif; color: var(--text-dark); text-transform: uppercase;
    -webkit-tap-highlight-color: transparent;
}
.cat-card span { font-size: 2.2rem; display: block; margin-bottom: 2px; }

.random-btn { grid-column: span 2; background: #A855F7; color: white; box-shadow: 0 6px 0 #7e3af2; }
.all-btn { grid-column: span 2; background: #22c55e; color: white; box-shadow: 0 6px 0 #16a34a; }

/* --- ALL EMOJIS LIST --- */

#all-emojis-screen { padding-top: 100px; background: var(--bg); overflow-y: auto; }
.emoji-list-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; width: 90%; max-width: 500px; padding-bottom: 100px; }
.list-item {
    background: white; border-radius: 15px; aspect-ratio: 1;
    display: flex; align-items: center; justify-content: center;
    font-size: 2rem; box-shadow: 0 4px 0 rgba(0,0,0,0.1); cursor: pointer;
    -webkit-tap-highlight-color: transparent;
}

/* --- GAME --- */

.game-row { display: flex; align-items: center; justify-content: space-between; width: 95%; max-width: 500px; flex-grow: 1; }
.nav-btn {
    font-size: 3.5rem; background: none; border: none; cursor: pointer;
    filter: drop-shadow(0 4px 0 rgba(0,0,0,0.2)); padding: 0 10px;
    font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji"; z-index: 50;
    -webkit-tap-highlight-color: transparent;
}
.nav-btn:active { transform: scale(0.9); }

/* viewport override is below #game-card */
#game-card {
    background: white; padding: 20px 10px; border-radius: 40px; text-align: center;
    box-shadow: 0 12px 0 #e6c841; transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    min-height: 280px; display: flex; flex-direction: column; align-items: center; justify-content: center;
    will-change: transform;
}
#game-viewport { position: relative; flex-grow: 1; margin: 0 5px; overflow: visible; }

#visual-display {
    height: 180px; width: 180px; display: flex; align-items: center; justify-content: center;
    cursor: pointer; -webkit-tap-highlight-color: transparent;
}
#visual-display img { width: 100%; height: 100%; object-fit: contain; }

.system-emoji {
    font-size: 130px;
    font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif;
    font-weight: bold; color: var(--text-dark); line-height: 1;
}

.text-mode { font-size: 130px; font-family: var(--helvetica); font-weight: bold; color: var(--text-dark); }
#visual-display:active { transform: scale(1.15); }

h2#description { font-family: var(--helvetica); font-size: 1.8rem; font-weight: bold; color: var(--text-dark); margin: 20px 0 0; text-transform: uppercase; }

.bottom-actions { position: fixed; bottom: 30px; display: flex; justify-content: center; width: 100%; z-index: 100; }
.small-btn {
    padding: 15px 40px; border: none; border-radius: 20px;
    background: #A855F7; color: white; font-family: 'Bowlby One SC', sans-serif;
    font-size: 1.2rem; box-shadow: 0 6px 0 rgba(0,0,0,0.2); cursor: pointer;
    -webkit-tap-highlight-color: transparent;
}
.small-btn:active { transform: translateY(3px); box-shadow: 0 3px 0 rgba(0,0,0,0.2); }

/* --- ANIMATIONS --- */

.slide-out-left { transform: translateX(-150%) rotate(-10deg); opacity: 0; }
.slide-out-right { transform: translateX(150%) rotate(10deg); opacity: 0; }
